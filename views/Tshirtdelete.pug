extends layout 
 
block content 
  h1= title 

  - let id = toShow._id 
  - let brand = toShow.brand 
  - let material = toShow.material 
  - let cost = toShow.cost 
  div(class="card card-body" style="width: 30rem; background-color:#7e7ec2;") 
    div(class="row p-3 mb-2 text-white") 
      div(class=' mr-3 col-sm-6') Tshirt ID: 
      div(class=' mr-3 col-sm-6' id="id" data=id) #{id} 
    div(class="row p-3 mb-2 text-white") 
      div(class=' mr-3 col-sm-6') Tshirt brand: 
      div(class=' mr-3 col-sm-6') #{brand} 
    div(class="row p-3 mb-2 text-white") 
      div(class=' mr-3  col-sm-6') Tshirt material  : 
      div(class=' mr-3 col-sm-6')  #{material} 
    div(class="row p-3 mb-2 text-white") 
      div(class=' mr-3 col-sm-6') Tshirt cost: 
      div(class=' mr-3 col-sm-6') $#{cost}
    div(class="d-flex flex-row justify-content-evenly")
      input(class="btn btn-danger " type="submit" value="Delete" id="delete")      
      a(href='/Tshirt' class="btn btn-secondary") Cancel

      

  script. 
    document.getElementById('delete').addEventListener('click', (event) => { 

        var id =document.getElementById('id').getAttribute("data");
      event.preventDefault(); 
      alert(id);
      // TODO do something here to show user that form is being submitted 
      var x ='/resource/Tshirt/'+id;
      alert(x)

      fetch(x, { 
        method: 'DELETE'
      }).then((resp) => { 
        return resp.json(); // or resp.text() or whatever the server sends 
      }).then((body) => { 
        alert("Deleted succeded") 
        // TODO handle body 
      }).catch((error) => { 
        // TODO handle error 
        alert("Deleted failed " + error ) 
      }); 
    }); 